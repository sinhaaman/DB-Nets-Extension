<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Sun Oct 15 09:54:43 CEST 2017 -->
<title>JavaCPN</title>
<meta name="date" content="2017-10-15">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JavaCPN";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JavaCPN.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../extension/dbnets/javacpn/ExposedAPItoCPN.html" title="class in extension.dbnets.javacpn"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html" title="interface in extension.dbnets.javacpn"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?extension/dbnets/javacpn/JavaCPN.html" target="_top">Frames</a></li>
<li><a href="JavaCPN.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">extension.dbnets.javacpn</div>
<h2 title="Class JavaCPN" class="title">Class JavaCPN</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>extension.dbnets.javacpn.JavaCPN</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html" title="interface in extension.dbnets.javacpn">JavaCPNInterface</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">JavaCPN</span>
extends java.lang.Object
implements <a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html" title="interface in extension.dbnets.javacpn">JavaCPNInterface</a></pre>
<div class="block"><p>
 <h2>JavaCPN</h2> (otherwise known as Comms/Java) - The java
 implmentation of a
 peer entity matching the Comms/Java implementation for Design/CPN. (See 
 http://www.daimi.au.dk/designCPN/libs/commscpn/ for more details.)
 The purpose of Java/CPN is to allow Java processes to communicate with
 Design/CPN through Comms/CPN.  The current implementation of Java/CPN
 is the minimal implementation necessary to enable communication.  It
 incorporates the equivalent functionality of the Messaging and
 Communication layers from Comms/CPN.  The Communication Layer
 functionality from Comms/CPN and TCP/IP is already encapsulated
 in Socket objects provided by Java.
 
 <p>
 No connection management has been implemented within Java/CPN as
 this is a minimal implementation, however the important thing is that
 it implements the same protocol at the Messaging Layer as the peer
 entity.  Generic <CODE>send</CODE> and <CODE>receive</CODE> 
 functions have been provided at
 the level of the Messaging Layer, meaning that sequences of bytes are
 passed to the send method and returned from the receive method.  The
 <CODE>connect</CODE>, <CODE>accept</CODE>, and <CODE>disconnect</CODE>
 methods have been provided at
 the level of the Communication Layer from Comms/CPN.  The
 deliberate attempt was made to make the interface as close to that of
 Comms/CPN as possible. 
 
 <p>
 Methods external to the Java/CPN class must be used to convert
 from data (i.e. a string) into a ByteArrayInputStream object, and from
 a ByteArrayOutputStream object back into data.  This is akin to the
 encoding and decoding functions passed into the send and receive
 functions of the Connection Management Layer in Comms/CPN.  They are
 contained within the <a href="EncodeDecode.html">EncodeDecode</a> class.</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>0.6
 
 Change Log:
 
 10th February 2002:
 - Improved robustness of Receive method - reads multiple times
   from the socket in a loop if not all bytes can be read on the first
   attempt.</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Guy Gallasch</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.io.InputStream</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../extension/dbnets/javacpn/JavaCPN.html#input">input</a></span></code>
<div class="block">internal reference to the socket input stream</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.io.OutputStream</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../extension/dbnets/javacpn/JavaCPN.html#output">output</a></span></code>
<div class="block">internal reference to the socket output stream</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.net.Socket</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../extension/dbnets/javacpn/JavaCPN.html#socket">socket</a></span></code>
<div class="block">Internal reference to the socket being used</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../extension/dbnets/javacpn/JavaCPN.html#JavaCPN--">JavaCPN</a></span>()</code>
<div class="block">Constructor to create a new JavaCPN object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../extension/dbnets/javacpn/JavaCPN.html#accept-int-">accept</a></span>(int&nbsp;port)</code>
<div class="block">Method to passively open a connection.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../extension/dbnets/javacpn/JavaCPN.html#connect-java.lang.String-int-">connect</a></span>(java.lang.String&nbsp;hostName,
       int&nbsp;port)</code>
<div class="block">Method to actively establish a connection.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../extension/dbnets/javacpn/JavaCPN.html#disconnect--">disconnect</a></span>()</code>
<div class="block">Method to disconnect the established connection.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.io.ByteArrayOutputStream</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../extension/dbnets/javacpn/JavaCPN.html#receive--">receive</a></span>()</code>
<div class="block">Method used to receive a ByteArrayOutputStream from an established
 connection.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../extension/dbnets/javacpn/JavaCPN.html#send-java.io.ByteArrayInputStream-">send</a></span>(java.io.ByteArrayInputStream&nbsp;sendBytes)</code>
<div class="block">Method used to send a ByteArrayInputStream via an established
 connection.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="socket">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>socket</h4>
<pre>private&nbsp;java.net.Socket socket</pre>
<div class="block">Internal reference to the socket being used</div>
</li>
</ul>
<a name="input">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>input</h4>
<pre>private&nbsp;java.io.InputStream input</pre>
<div class="block">internal reference to the socket input stream</div>
</li>
</ul>
<a name="output">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>output</h4>
<pre>private&nbsp;java.io.OutputStream output</pre>
<div class="block">internal reference to the socket output stream</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="JavaCPN--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JavaCPN</h4>
<pre>public&nbsp;JavaCPN()</pre>
<div class="block">Constructor to create a new JavaCPN object. Simply initialises the internal
 references. In order to establish a connection either the <CODE>connect
 </CODE> or the <CODE>accept</CODE> methods need to be called.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="connect-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre>public&nbsp;void&nbsp;connect(java.lang.String&nbsp;hostName,
                    int&nbsp;port)
             throws java.io.IOException,
                    java.net.UnknownHostException</pre>
<div class="block">Method to actively establish a connection. It takes a
 host name and port number as arguments, and attempts to establish a
 connection as a client to the given port on the given host.  Once the
 connection has been established (i.e. the socket opened) input and
 output streams are extracted from the socket to enable the transmission
 and reception of bytes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html#connect-java.lang.String-int-">connect</a></code>&nbsp;in interface&nbsp;<code><a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html" title="interface in extension.dbnets.javacpn">JavaCPNInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hostName</code> - The host to attempt to connect to</dd>
<dd><code>port</code> - The port number to attempt to connect to</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - Thrown when there is a communication error</dd>
<dd><code>java.net.UnknownHostException</code> - Thrown when the host name provided as the argument 
 cannot be resolved into an IP address</dd>
</dl>
</li>
</ul>
<a name="accept-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accept</h4>
<pre>public&nbsp;void&nbsp;accept(int&nbsp;port)
            throws java.io.IOException</pre>
<div class="block">Method to passively open a connection. It takes a port number as an
 argument and, acting as a server, listens on the given port number for
 an incoming connection request.  When received, it establishes the
 connection.  Again, once the connection has been established, input
 and output streams are extracted from the socket to enable the
 transmission and reception of bytes.   The method will block until a
 connection is established.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html#accept-int-">accept</a></code>&nbsp;in interface&nbsp;<code><a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html" title="interface in extension.dbnets.javacpn">JavaCPNInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>port</code> - The port number to attempt to connect to</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - Thrown when there is a communication error</dd>
</dl>
</li>
</ul>
<a name="send-java.io.ByteArrayInputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>public&nbsp;void&nbsp;send(java.io.ByteArrayInputStream&nbsp;sendBytes)
          throws java.net.SocketException</pre>
<div class="block">Method used to send a ByteArrayInputStream via an established
 connection. This method takes a ByteArrayInputStream object
 as the argument.  The segmentation into packets occurs in this method. 
 Bytes are read from the ByteArrayInputStream object, a maximum
 of 127 at a time, and a single byte header is added indicating the
 number of payload bytes (header is 1 to 127) or that there is more data 
 in a following packet (header is 255). The data packets formed are then
 transmitted to the external process through methods acting on the
 output stream of the socket.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html#send-java.io.ByteArrayInputStream-">send</a></code>&nbsp;in interface&nbsp;<code><a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html" title="interface in extension.dbnets.javacpn">JavaCPNInterface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sendBytes</code> - The byte stream to be sent to the receiving end of the connection</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.net.SocketException</code> - Thrown if there is a problem sending the byte stream</dd>
</dl>
</li>
</ul>
<a name="receive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receive</h4>
<pre>public&nbsp;java.io.ByteArrayOutputStream&nbsp;receive()
                                      throws java.net.SocketException</pre>
<div class="block">Method used to receive a ByteArrayOutputStream from an established
 connection. This method has no arguments.  It uses methods that
 act on the input stream of the socket to firstly receive a header
 byte, and then receive the number of payload bytes specified in the
 header, from the external process.  The payload bytes are stored in a
 ByteArrayOutputStream object as each segment of payload data is
 received. This process is repeated until all data has been received for
 the current transmission.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html#receive--">receive</a></code>&nbsp;in interface&nbsp;<code><a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html" title="interface in extension.dbnets.javacpn">JavaCPNInterface</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>sendBytes The byte stream received from the other end of the connection</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.net.SocketException</code> - Thrown if there is a problem sending the byte stream</dd>
</dl>
</li>
</ul>
<a name="disconnect--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>disconnect</h4>
<pre>public&nbsp;void&nbsp;disconnect()
                throws java.io.IOException</pre>
<div class="block">Method to disconnect the established connection. This method has no
 arguments, and returns no value.  It closes the input and output
 streams from the socket before closing the socket itself.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html#disconnect--">disconnect</a></code>&nbsp;in interface&nbsp;<code><a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html" title="interface in extension.dbnets.javacpn">JavaCPNInterface</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if there is a problem closing the connection</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JavaCPN.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../extension/dbnets/javacpn/ExposedAPItoCPN.html" title="class in extension.dbnets.javacpn"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../extension/dbnets/javacpn/JavaCPNInterface.html" title="interface in extension.dbnets.javacpn"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?extension/dbnets/javacpn/JavaCPN.html" target="_top">Frames</a></li>
<li><a href="JavaCPN.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
